language: cpp
compiler:
  - gcc
  - clang
env:
  - DEFAULT_COLLECTOR=Markcompact
  - DEFAULT_COLLECTOR=Semispace
  - RUBY_VERSION=1.8.7
  - RUBY_VERSION=1.9.3
  - RUBY_VERSION=2.0.0
before_script:
  - sh -c 'rvm use ${RUBY_VERSION}'
  - sudo apt-get install libffi-dev
  - cmake .
  - make
script: travis/run-tests.sh
notifications:
  recipients:
    - graham@stormbrew.ca
  email:
    on_success: change
    on_failure: always
